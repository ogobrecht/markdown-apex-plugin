/**
 * Markdown for APEX - v1.3.0 - 2017-03-31
 * https://github.com/ogobrecht/markdown-apex-plugin
 * Copyright (c) 2015-2017 Ottmar Gobrecht - MIT license
 * For shipped libraries see also https://github.com/ogobrecht/markdown-apex-plugin/LICENSE.txt
 */
"use strict";var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function a(a){return a}function b(a){return!1}function c(){}function d(){}c.prototype={chain:function(b,c){var d=this[b];if(!d)throw new Error("unknown hook "+b);this[b]=d===a?c:function(a){var b=Array.prototype.slice.call(arguments,0);return b[0]=d.apply(null,b),c.apply(null,b)}},set:function(a,b){if(!this[a])throw new Error("unknown hook "+a);this[a]=b},addNoop:function(b){this[b]=a},addFalse:function(a){this[a]=b}},Markdown.HookCollection=c,d.prototype={set:function(a,b){this["s_"+a]=b},get:function(a){return this["s_"+a]}},Markdown.Converter=function(b){function e(a){return a=a.replace(/^[ ]{0,3}\[([^\[\]]+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(\n+)/gm,function(a,b,c,d,e,f,g){return b=b.toLowerCase(),L.set(b,A(c)),e?d+g:(f&&M.set(b,f.replace(/"/g,"&quot;")),"")})}function f(a){return a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,h),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,h),a=a.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,h),a=a.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,h),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,h)}function g(a){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(N.push(a)-1)+"K\n\n"}function h(a,b){return g(b)}function i(a,b,c){a=K.preBlockGamut(a,S),a=q(a);return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,"<hr />\n"),a=a.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,"<hr />\n"),a=a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,"<hr />\n"),a=r(a),a=t(a),a=y(a),a=K.postBlockGamut(a,S),a=f(a),a=z(a,b,c)}function j(a){return a=K.preSpanGamut(a),a=u(a),a=k(a),a=B(a),a=n(a),a=l(a),a=D(a),a=a.replace(/~P/g,"://"),a=A(a),a=R(a),a=a.replace(/  +\n/g," <br>\n"),a=K.postSpanGamut(a)}function k(a){return a=a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=I(b,"!"==a.charAt(1)?"\\`*_/":"\\`*_")})}function l(a){return a.indexOf("[")===-1?a:(a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,m),a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,m),a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,m))}function m(a,b,c,d,e,f,g,h){void 0==h&&(h="");var i=b,j=c.replace(/:\/\//g,"~P"),k=d.toLowerCase(),l=e,m=h;if(""==l)if(""==k&&(k=j.toLowerCase().replace(/ ?\n/g," ")),l="#"+k,void 0!=L.get(k))l=L.get(k),void 0!=M.get(k)&&(m=M.get(k));else{if(!(i.search(/\(\s*\)$/m)>-1))return i;l=""}l=H(l);var n='<a href="'+l+'"';return""!=m&&(m=o(m),m=I(m,"*_"),n+=' title="'+m+'"'),n+=">"+j+"</a>"}function n(a){return a.indexOf("![")===-1?a:(a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p),a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p))}function o(a){return a.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function p(a,b,c,d,e,f,g,h){var i=b,j=c,k=d.toLowerCase(),l=e,m=h;if(m||(m=""),""==l){if(""==k&&(k=j.toLowerCase().replace(/ ?\n/g," ")),l="#"+k,void 0==L.get(k))return i;l=L.get(k),void 0!=M.get(k)&&(m=M.get(k))}j=I(o(j),"*_[]()"),l=I(l,"*_");var n='<img src="'+l+'" alt="'+j+'"';return m=o(m),m=I(m,"*_"),n+=' title="'+m+'"',n+=" />"}function q(a){return a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,b){return"<h1>"+j(b)+"</h1>\n\n"}),a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,b){return"<h2>"+j(b)+"</h2>\n\n"}),a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,b,c){var d=b.length;return"<h"+d+">"+j(c)+"</h"+d+">\n\n"})}function r(a,b){a+="~0";var c=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return O?a=a.replace(c,function(a,c,d){var e,f=c,g=d.search(/[*+-]/g)>-1?"ul":"ol";"ol"===g&&(e=parseInt(d,10));var h=s(f,g,b);h=h.replace(/\s+$/,"");var i="<"+g;return e&&1!==e&&(i+=' start="'+e+'"'),h=i+">"+h+"</"+g+">\n"}):(c=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(c,function(a,b,c,d){var e,f=b,g=c,h=d.search(/[*+-]/g)>-1?"ul":"ol";"ol"===h&&(e=parseInt(d,10));var i=s(g,h),j="<"+h;return e&&1!==e&&(j+=' start="'+e+'"'),i=f+j+">\n"+i+"</"+h+">\n"})),a=a.replace(/~0/,"")}function s(a,b,c){O++,a=a.replace(/\n{2,}$/,"\n"),a+="~0";var d=T[b],e=new RegExp("(^[ \\t]*)("+d+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+d+")[ \\t]+))","gm"),f=!1;return a=a.replace(e,function(a,b,c,d){var e=d,g=/\n\n$/.test(e),h=g||e.search(/\n{2,}/)>-1,j=h||f;return e=i(F(e),!0,!j),f=g,"<li>"+e+"</li>\n"}),a=a.replace(/~0/g,""),O--,a}function t(a){return a+="~0",a=a.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){var d=b,e=c;return d=v(F(d)),d=G(d),d=d.replace(/^\n+/g,""),d=d.replace(/\n+$/g,""),"\n\n"+(d="<pre><code>"+d+"\n</code></pre>")+"\n\n"+e}),a=a.replace(/~0/,"")}function u(a){return a=a.replace(/(^|[^\\`])(`+)(?!`)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d,e){var f=d;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=v(f),f=f.replace(/:\/\//g,"~P"),b+"<code>"+f+"</code>"})}function v(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=I(a,"*_{}[]\\",!1)}function w(a){return a.indexOf("*")===-1&&a.indexOf("_")===-1?a:(a=P(a),a=a.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)\2(?=\S)([^\r]*?\S)\2\2(?!\2)(?=[\W_]|$)/g,"$1<strong>$3</strong>"),a=a.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)(?=\S)((?:(?!\2)[^\r])*?\S)\2(?!\2)(?=[\W_]|$)/g,"$1<em>$3</em>"),Q(a))}function x(a){return a.indexOf("*")===-1&&a.indexOf("_")===-1?a:(a=P(a),a=a.replace(/(?=[^\r][*_]|[*_])(^|(?=\W__|(?!\*)[\W_]\*\*|\w\*\*\w)[^\r])(\*\*|__)(?!\2)(?=\S)((?:|[^\r]*?(?!\2)[^\r])(?=\S_|\w|\S\*\*(?:[\W_]|$)).)(?=__(?:\W|$)|\*\*(?:[^*]|$))\2/g,"$1<strong>$3</strong>"),a=a.replace(/(?=[^\r][*_]|[*_])(^|(?=\W_|(?!\*)(?:[\W_]\*|\D\*(?=\w)\D))[^\r])(\*|_)(?!\2\2\2)(?=\S)((?:(?!\2)[^\r])*?(?=[^\s_]_|(?=\w)\D\*\D|[^\s*]\*(?:[\W_]|$)).)(?=_(?:\W|$)|\*(?:[^*]|$))\2/g,"$1<em>$3</em>"),Q(a))}function y(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b;return c=c.replace(/^[ \t]*>[ \t]?/gm,"~0"),c=c.replace(/~0/g,""),c=c.replace(/^[ \t]+$/gm,""),c=i(c),c=c.replace(/(^|\n)/g,"$1  "),c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /gm,"~0"),c=c.replace(/~0/g,"")}),g("<blockquote>\n"+c+"\n</blockquote>")})}function z(a,b,c){a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var d=a.split(/\n{2,}/g),e=[],f=/~K(\d+)K/,g=d.length,h=0;h<g;h++){var i=d[h];f.test(i)?e.push(i):/\S/.test(i)&&(i=j(i),i=i.replace(/^([ \t]*)/g,c?"":"<p>"),c||(i+="</p>"),e.push(i))}if(!b){g=e.length;for(var h=0;h<g;h++)for(var k=!0;k;)k=!1,e[h]=e[h].replace(/~K(\d+)K/g,function(a,b){return k=!0,N[b]})}return e.join("\n\n")}function A(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function B(a){return a=a.replace(/\\(\\)/g,J),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,J)}function C(a,b,c,d){if(b)return a;if(")"!==d.charAt(d.length-1))return"<"+c+d+">";for(var e=d.match(/[()]/g),f=0,g=0;g<e.length;g++)"("===e[g]?f<=0?f=1:f++:f--;var h="";if(f<0){var i=new RegExp("\\){1,"+-f+"}$");d=d.replace(i,function(a){return h=a,""})}if(h){var j=d.charAt(d.length-1);V.test(j)||(h=j+h,d=d.substr(0,d.length-1))}return"<"+c+d+">"+h}function D(a){a=a.replace(U,C);var b=function(a,b){return'<a href="'+H(b)+'">'+K.plainLinkText(b)+"</a>"};return a=a.replace(/<((https?|ftp):[^'">\s]+)>/gi,b)}function E(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})}function F(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,"")}function G(a){if(!/\t/.test(a))return a;var b,c=["    ","   ","  "," "],d=0;return a.replace(/[\n\t]/g,function(a,e){return"\n"===a?(d=e+1,a):(b=(e-d)%4,d=e+1,c[b])})}function H(a){return a=o(a),a=I(a,"*_:()[]")}function I(a,b,c){var d="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(d="\\\\"+d);var e=new RegExp(d,"g");return a=a.replace(e,J)}function J(a,b){return"~E"+b.charCodeAt(0)+"E"}var K=this.hooks=new c;K.addNoop("plainLinkText"),K.addNoop("preConversion"),K.addNoop("postNormalization"),K.addNoop("preBlockGamut"),K.addNoop("postBlockGamut"),K.addNoop("preSpanGamut"),K.addNoop("postSpanGamut"),K.addNoop("postConversion");var L,M,N,O;b=b||{};var P=a,Q=a;b.nonAsciiLetters&&function(){var a="Q".charCodeAt(0),b="A".charCodeAt(0),c="Z".charCodeAt(0),d="a".charCodeAt(0)-c-1;P=function(e){return e.replace(/[Q\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua67f-\ua697\ua717-\ua71f\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/g,function(e){for(var f,g=e.charCodeAt(0),h="";g>0;)f=g%51+b,f>=a&&f++,f>c&&(f+=d),h=String.fromCharCode(f)+h,g=g/51|0;return"Q"+h+"Q"})},Q=function(e){return e.replace(/Q([A-PR-Za-z]{1,3})Q/g,function(e,f){for(var g,h=0,i=0;i<f.length;i++)g=f.charCodeAt(i),g>c&&(g-=d),g>a&&g--,g-=b,h=51*h+g;return String.fromCharCode(h)})}}();var R=b.asteriskIntraWordEmphasis?x:w;this.makeHtml=function(a){if(L)throw new Error("Recursive call to converter.makeHtml");return L=new d,M=new d,N=[],O=0,a=K.preConversion(a),a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a="\n\n"+a+"\n\n",a=G(a),a=a.replace(/^[ \t]+$/gm,""),a=K.postNormalization(a),a=f(a),a=e(a),a=i(a),a=E(a),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),a=K.postConversion(a),N=M=L=null,a};var S=function(a){return i(a)},T={ol:"\\d+[.]",ul:"[*+-]"},U=new RegExp('(="|<)?\\b(https?|ftp)(://[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]*[-A-Z0-9+&@#/%=~_|[\\])])(?=$|\\W)',"gi"),V=new RegExp("[-A-Z0-9+&@#/%=~_|[\\])]","i")}}(),function(){function a(a){return a.replace(/<[^>]*>?/gi,b)}function b(a){return a.match(f)||a.match(g)||a.match(h)?a:""}function c(a){if(""==a)return"";var b=/<\/?\w+[^>]*(\s|$|>)/g,c=a.toLowerCase().match(b),d=(c||[]).length;if(0==d)return a;for(var e,f,g,h="<p><img><br><li><hr>",i=[],j=[],k=!1,l=0;l<d;l++)if(e=c[l].replace(/<\/?(\w+).*/,"$1"),!(i[l]||h.search("<"+e+">")>-1)){if(f=c[l],g=-1,!/^<\//.test(f))for(var m=l+1;m<d;m++)if(!i[m]&&c[m]=="</"+e+">"){g=m;break}g==-1?k=j[l]=!0:i[g]=!0}if(!k)return a;var l=0;return a=a.replace(b,function(a){var b=j[l]?"":a;return l++,b})}var d,e;"object"==typeof exports&&"function"==typeof require?(d=exports,e=require("./Markdown.Converter.js").Converter):(d=window.Markdown,e=d.Converter),d.getSanitizingConverter=function(){var b=new e;return b.hooks.chain("postConversion",a),b.hooks.chain("postConversion",c),b};var f=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol(?: start="\d+")?|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,g=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,h=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}(),function(){function a(){}function b(a,b){this.buttonBar=l.getElementById("wmd-button-bar"+a),this.preview=l.getElementById("wmd-preview"+a),this.input=l.getElementById(b)}function c(a,b){var c,e,f,g=this,h=[],j=0,k="none",l=function(a,b){k!=a&&(k=a,b||n()),p.isIE&&"moving"==k?f=null:e=setTimeout(m,1)},m=function(a){f=new d(b,a),e=void 0};this.setCommandMode=function(){k="command",n(),e=setTimeout(m,0)},this.canUndo=function(){return j>1},this.canRedo=function(){return!!h[j+1]},this.undo=function(){g.canUndo()&&(c?(c.restore(),c=null):(h[j]=new d(b),h[--j].restore(),a&&a())),k="none",b.input.focus(),m()},this.redo=function(){g.canRedo()&&(h[++j].restore(),a&&a()),k="none",b.input.focus(),m()};var n=function(){var e=f||new d(b);return!!e&&("moving"==k?void(c||(c=e)):(c&&(h[j-1].text!=c.text&&(h[j++]=c),c=null),h[j++]=e,h[j+1]=null,void(a&&a())))},o=function(a){var b=!1;if((a.ctrlKey||a.metaKey)&&!a.altKey){var c=a.charCode||a.keyCode;switch(String.fromCharCode(c).toLowerCase()){case"y":g.redo(),b=!0;break;case"z":a.shiftKey?g.redo():g.undo(),b=!0}}if(b)return a.preventDefault&&a.preventDefault(),void(window.event&&(window.event.returnValue=!1))},q=function(a){if(!a.ctrlKey&&!a.metaKey){var b=a.keyCode;b>=33&&b<=40||b>=63232&&b<=63235?l("moving"):8==b||46==b||127==b?l("deleting"):13==b?l("newlines"):27==b?l("escape"):(b<16||b>20)&&91!=b&&l("typing")}},r=function(){i.addEvent(b.input,"keypress",function(a){!a.ctrlKey&&!a.metaKey||a.altKey||89!=a.keyCode&&90!=a.keyCode||a.preventDefault()});var a=function(){(p.isIE||f&&f.text!=b.input.value)&&void 0===e&&(k="paste",n(),m())};i.addEvent(b.input,"keydown",o),i.addEvent(b.input,"keydown",q),i.addEvent(b.input,"mousedown",function(){l("moving")}),b.input.onpaste=a,b.input.ondrop=a};!function(){r(),m(!0),n()}()}function d(b,c){var d=this,e=b.input;this.init=function(){i.isVisible(e)&&(!c&&l.activeElement&&l.activeElement!==e||(this.setInputAreaSelectionStartEnd(),this.scrollTop=e.scrollTop,(!this.text&&e.selectionStart||0===e.selectionStart)&&(this.text=e.value)))},this.setInputAreaSelection=function(){if(i.isVisible(e))if(void 0===e.selectionStart||p.isOpera){if(l.selection){if(l.activeElement&&l.activeElement!==e)return;e.focus();var a=e.createTextRange();a.moveStart("character",-e.value.length),a.moveEnd("character",-e.value.length),a.moveEnd("character",d.end),a.moveStart("character",d.start),a.select()}}else e.focus(),e.selectionStart=d.start,e.selectionEnd=d.end,e.scrollTop=d.scrollTop},this.setInputAreaSelectionStartEnd=function(){if(b.ieCachedRange||!e.selectionStart&&0!==e.selectionStart){if(l.selection){d.text=i.fixEolChars(e.value);var a=b.ieCachedRange||l.selection.createRange(),c=i.fixEolChars(a.text),f=""+c+"";a.text=f;var g=i.fixEolChars(e.value);a.moveStart("character",-f.length),a.text=c,d.start=g.indexOf(""),d.end=g.lastIndexOf("")-"".length;var h=d.text.length-i.fixEolChars(e.value).length;if(h){for(a.moveStart("character",-c.length);h--;)c+="\n",d.end+=1;a.text=c}b.ieCachedRange&&(d.scrollTop=b.ieCachedScrollTop),b.ieCachedRange=null,this.setInputAreaSelection()}}else d.start=e.selectionStart,d.end=e.selectionEnd},this.restore=function(){void 0!==d.text&&d.text!=e.value&&(e.value=d.text),this.setInputAreaSelection(),e.scrollTop=d.scrollTop},this.getChunks=function(){var b=new a;return b.before=i.fixEolChars(d.text.substring(0,d.start)),b.startTag="",b.selection=i.fixEolChars(d.text.substring(d.start,d.end)),b.endTag="",b.after=i.fixEolChars(d.text.substring(d.end)),b.scrollTop=d.scrollTop,b},this.setChunks=function(a){a.before=a.before+a.startTag,a.after=a.endTag+a.after,this.start=a.before.length,this.end=a.before.length+a.selection.length,this.text=a.before+a.selection+a.after,this.scrollTop=a.scrollTop},this.init()}function e(a,b,c){var d,e,f,g=function(a,b){i.addEvent(a,"input",b),a.onpaste=b,a.ondrop=b,i.addEvent(a,"keypress",b),i.addEvent(a,"keydown",b)},h=function(){var a=0;return window.innerHeight?a=window.pageYOffset:l.documentElement&&l.documentElement.scrollTop?a=l.documentElement.scrollTop:l.body&&(a=l.body.scrollTop),a},k=function(){if(b.preview){var c=b.input.value;if(!c||c!=f){f=c;var d=(new Date).getTime();c=a.makeHtml(c);var g=(new Date).getTime();e=g-d,v(c)}}},m=function(){d&&(clearTimeout(d),d=void 0);var a=0;a=e,a>3e3&&(a=3e3),d=setTimeout(k,a)},n=function(a){return a.scrollHeight<=a.clientHeight?1:a.scrollTop/(a.scrollHeight-a.clientHeight)},o=function(){b.preview&&(b.preview.scrollTop=(b.preview.scrollHeight-b.preview.clientHeight)*n(b.preview))};this.refresh=function(a){a?(f="",k()):m()},this.processingTime=function(){return e};var q,r=!0,s=function(a){var c=b.preview,d=c.parentNode,e=c.nextSibling;d.removeChild(c),c.innerHTML=a,e?d.insertBefore(c,e):d.appendChild(c)},t=function(a){b.preview.innerHTML=a},u=function(a){if(q)return q(a);try{t(a),q=t}catch(b){q=s,q(a)}},v=function(a){var d=j.getTop(b.input)-h();if(b.preview&&(u(a),c()),o(),r)return void(r=!1);var e=j.getTop(b.input)-h();p.isIE?setTimeout(function(){window.scrollBy(0,e-d)},0):window.scrollBy(0,e-d)};!function(){g(b.input,m),k(),b.preview&&(b.preview.scrollTop=0)}()}function f(a,b,c,e,f,g,h){function j(a){if(q.focus(),a.textOp){c&&c.setCommandMode();var f=new d(b);if(!f)return;var g=f.getChunks(),h=function(){q.focus(),g&&f.setChunks(g),f.restore(),e.refresh()};a.textOp(g,h)||h()}a.execute&&a.execute(c)}function k(a,c){var d=a.getElementsByTagName("span")[0];c?(d.style.backgroundPosition=a.XShift+" 0px",a.onmouseover=function(){d.style.backgroundPosition=this.XShift+" -40px"},a.onmouseout=function(){d.style.backgroundPosition=this.XShift+" 0px"},p.isIE&&(a.onmousedown=function(){l.activeElement&&l.activeElement!==b.input||(b.ieCachedRange=document.selection.createRange(),b.ieCachedScrollTop=b.input.scrollTop)}),a.isHelp||(a.onclick=function(){return this.onmouseout&&this.onmouseout(),j(this),!1})):(d.style.backgroundPosition=a.XShift+" -20px",a.onmouseover=a.onmouseout=a.onclick=function(){})}function m(a){return"string"==typeof a&&(a=f[a]),function(){a.apply(f,arguments)}}function o(){c&&(k(r.undo,c.canUndo()),k(r.redo,c.canRedo()))}var q=b.input,r={};!function(){var c=b.buttonBar,d=document.createElement("ul");d.id="wmd-button-row"+a,d.className="wmd-button-row",d=c.appendChild(d);var e=0,f=function(b,c,f,g){var h=document.createElement("li");h.className="wmd-button",h.style.left=e+"px",e+=25;var i=document.createElement("span");return h.id=b+a,h.appendChild(i),h.title=c,h.XShift=f,g&&(h.textOp=g),k(h,!0),d.appendChild(h),h},i=function(b){var c=document.createElement("li");c.className="wmd-spacer wmd-spacer"+b,c.id="wmd-spacer"+b+a,d.appendChild(c),e+=25};r.bold=f("wmd-bold-button",h("bold"),"0px",m("doBold")),r.italic=f("wmd-italic-button",h("italic"),"-20px",m("doItalic")),i(1),r.link=f("wmd-link-button",h("link"),"-40px",m(function(a,b){return this.doLinkOrImage(a,b,!1)})),r.quote=f("wmd-quote-button",h("quote"),"-60px",m("doBlockquote")),r.code=f("wmd-code-button",h("code"),"-80px",m("doCode")),r.image=f("wmd-image-button",h("image"),"-100px",m(function(a,b){return this.doLinkOrImage(a,b,!0)})),i(2),r.olist=f("wmd-olist-button",h("olist"),"-120px",m(function(a,b){this.doList(a,b,!0)})),r.ulist=f("wmd-ulist-button",h("ulist"),"-140px",m(function(a,b){this.doList(a,b,!1)})),r.heading=f("wmd-heading-button",h("heading"),"-160px",m("doHeading")),r.hr=f("wmd-hr-button",h("hr"),"-180px",m("doHorizontalRule")),i(3),r.undo=f("wmd-undo-button",h("undo"),"-200px",null),r.undo.execute=function(a){a&&a.undo()};var j=h(/win/.test(n.platform.toLowerCase())?"redo":"redomac");if(r.redo=f("wmd-redo-button",j,"-220px",null),r.redo.execute=function(a){a&&a.redo()},g){var l=document.createElement("li"),p=document.createElement("span");l.appendChild(p),l.className="wmd-button wmd-help-button",l.id="wmd-help-button"+a,l.XShift="-240px",l.isHelp=!0,l.style.right="0px",l.title=h("help"),l.onclick=g.handler,k(l,!0),d.appendChild(l),r.help=l}o()}();var s="keydown";p.isOpera&&(s="keypress"),i.addEvent(q,s,function(a){if((a.ctrlKey||a.metaKey)&&!a.altKey&&!a.shiftKey){var b=a.charCode||a.keyCode;switch(String.fromCharCode(b).toLowerCase()){case"b":j(r.bold);break;case"i":j(r.italic);break;case"l":j(r.link);break;case"q":j(r.quote);break;case"k":j(r.code);break;case"g":j(r.image);break;case"o":j(r.olist);break;case"u":j(r.ulist);break;case"h":j(r.heading);break;case"r":j(r.hr);break;case"y":j(r.redo);break;case"z":j(a.shiftKey?r.redo:r.undo);break;default:return}a.preventDefault&&a.preventDefault(),window.event&&(window.event.returnValue=!1)}}),i.addEvent(q,"keyup",function(a){if(a.shiftKey&&!a.ctrlKey&&!a.metaKey){if(13===(a.charCode||a.keyCode)){var b={};b.textOp=m("doAutoindent"),j(b)}}}),p.isIE&&i.addEvent(q,"keydown",function(a){if(27===a.keyCode)return!1}),this.setUndoRedoButtonStates=o}function g(a,b,c){this.hooks=a,this.getString=b,this.converter=c}function h(a){return a.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(a,b,c){var d=!1;return b=b.replace(/%(?:[\da-fA-F]{2})|\?|\+|[^\w\d-.\/[\]]/g,function(a){if(3===a.length&&"%"==a.charAt(0))return a.toUpperCase();switch(a){case"?":return d=!0,"?";case"+":if(d)return"%20"}return encodeURI(a)}),c&&(c=c.trim?c.trim():c.replace(/^\s*/,"").replace(/\s*$/,""),c=c.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c?b+' "'+c+'"':b})}var i={},j={},k={},l=window.document,m=window.RegExp,n=window.navigator,o={lineLength:72},p={isIE:/msie/.test(n.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(n.userAgent.toLowerCase())||/msie 5/.test(n.userAgent.toLowerCase()),isOpera:/opera/.test(n.userAgent.toLowerCase())},q={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:'<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:'<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg "optional title"</p>',olist:"Numbered List <ol> Ctrl+O",ulist:"Bulleted List <ul> Ctrl+U",litem:"List item",heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",hr:"Horizontal Rule <hr> Ctrl+R",undo:"Undo - Ctrl+Z",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"Markdown Editing Help"};Markdown.Editor=function(a,d,h,i){i=i||{},"function"==typeof i.handler&&(i={helpButton:i}),i.strings=i.strings||{},i.helpButton&&(i.strings.help=i.strings.help||i.helpButton.title);var j=function(a){return i.strings[a]||q[a]};d=d||"";var k=this.hooks=new Markdown.HookCollection;k.addNoop("onPreviewRefresh"),k.addNoop("postBlockquoteCreation"),k.addFalse("insertImageDialog"),this.getConverter=function(){return a};var m,n=this;this.run=function(){if(!m){m=new b(d,h);var o,p,q=new g(k,j,a),r=new e(a,m,function(){k.onPreviewRefresh()});/\?noundo/.test(l.location.href)||(o=new c(function(){r.refresh(),p&&p.setUndoRedoButtonStates()},m),this.textOperation=function(a){o.setCommandMode(),a(),n.refreshPreview()}),p=new f(d,m,o,r,q,i.helpButton,j),p.setUndoRedoButtonStates();(n.refreshPreview=function(){r.refresh(!0)})()}}},a.prototype.findTags=function(a,b){var c,d=this;a&&(c=i.extendRegExp(a,"","$"),this.before=this.before.replace(c,function(a){return d.startTag=d.startTag+a,""}),c=i.extendRegExp(a,"^",""),this.selection=this.selection.replace(c,function(a){return d.startTag=d.startTag+a,""})),b&&(c=i.extendRegExp(b,"","$"),this.selection=this.selection.replace(c,function(a){return d.endTag=a+d.endTag,""}),c=i.extendRegExp(b,"^",""),this.after=this.after.replace(c,function(a){return d.endTag=a+d.endTag,""}))},a.prototype.trimWhitespace=function(a){var b,c,d=this;a?b=c="":(b=function(a){return d.before+=a,""},c=function(a){return d.after=a+d.after,""}),this.selection=this.selection.replace(/^(\s*)/,b).replace(/(\s*)$/,c)},a.prototype.skipLines=function(a,b,c){void 0===a&&(a=1),void 0===b&&(b=1),a++,b++;var d,e;if(navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+m.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+m.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+m.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+m.$1,this.before){for(d=e="";a--;)d+="\\n?",e+="\n";c&&(d="\\n*"),this.before=this.before.replace(new m(d+"$",""),e)}if(this.after){for(d=e="";b--;)d+="\\n?",e+="\n";c&&(d="\\n*"),this.after=this.after.replace(new m(d,""),e)}},i.isVisible=function(a){return window.getComputedStyle?"none"!==window.getComputedStyle(a,null).getPropertyValue("display"):a.currentStyle?"none"!==a.currentStyle.display:void 0},i.addEvent=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},i.removeEvent=function(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)},i.fixEolChars=function(a){return a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n")},i.extendRegExp=function(a,b,c){null!==b&&void 0!==b||(b=""),null!==c&&void 0!==c||(c="");var d,e=a.toString();return e=e.replace(/\/([gim]*)$/,function(a,b){return d=b,""}),e=e.replace(/(^\/|\/$)/g,""),e=b+e+c,new m(e,d)},j.getTop=function(a,b){var c=a.offsetTop,d=a.offsetParent;if(!b)for(;d;)c+=d.offsetTop,d=d.offsetParent;return c},j.getHeight=function(a){return a.offsetHeight||a.scrollHeight},j.getWidth=function(a){return a.offsetWidth||a.scrollWidth},j.getPageSize=function(){var a,b,c,d;return self.innerHeight&&self.scrollMaxY?(a=l.body.scrollWidth,b=self.innerHeight+self.scrollMaxY):l.body.scrollHeight>l.body.offsetHeight?(a=l.body.scrollWidth,b=l.body.scrollHeight):(a=l.body.offsetWidth,b=l.body.offsetHeight),self.innerHeight?(c=self.innerWidth,d=self.innerHeight):l.documentElement&&l.documentElement.clientHeight?(c=l.documentElement.clientWidth,d=l.documentElement.clientHeight):l.body&&(c=l.body.clientWidth,d=l.body.clientHeight),[Math.max(a,c),Math.max(b,d),c,d]},k.createBackground=function(){var a=l.createElement("div"),b=a.style;a.className="wmd-prompt-background",b.position="absolute",b.top="0",b.zIndex="1000",p.isIE?b.filter="alpha(opacity=50)":b.opacity="0.5";var c=j.getPageSize();return b.height=c[1]+"px",p.isIE?(b.left=l.documentElement.scrollLeft,b.width=l.documentElement.clientWidth):(b.left="0",b.width="100%"),l.body.appendChild(a),a},k.prompt=function(a,b,c){var d,e;void 0===b&&(b="");var f=function(a){if(27===(a.charCode||a.keyCode))return a.stopPropagation&&a.stopPropagation(),g(!0),!1},g=function(a){i.removeEvent(l.body,"keyup",f);var b=e.value;return a?b=null:(b=b.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(b)||(b="http://"+b)),d.parentNode.removeChild(d),c(b),!1},h=function(){d=l.createElement("div"),d.className="wmd-prompt-dialog",d.style.padding="10px;",d.style.position="fixed",d.style.width="400px",d.style.zIndex="1001";var c=l.createElement("div");c.innerHTML=a,c.style.padding="5px",d.appendChild(c);var h=l.createElement("form"),k=h.style;h.onsubmit=function(){return g(!1)},k.padding="0",k.margin="0",k.cssFloat="left",k.width="100%",k.textAlign="center",k.position="relative",d.appendChild(h),e=l.createElement("input"),e.type="text",e.value=b,k=e.style,k.display="block",k.width="80%",k.marginLeft=k.marginRight="auto",h.appendChild(e);var m=l.createElement("input");m.type="button",m.onclick=function(){return g(!1)},m.value="OK",k=m.style,k.margin="10px",k.display="inline",k.width="7em";var n=l.createElement("input");n.type="button",n.onclick=function(){return g(!0)},n.value="Cancel",k=n.style,k.margin="10px",k.display="inline",k.width="7em",h.appendChild(m),h.appendChild(n),i.addEvent(l.body,"keyup",f),d.style.top="50%",d.style.left="50%",d.style.display="block",p.isIE_5or6&&(d.style.position="absolute",d.style.top=l.documentElement.scrollTop+200+"px",d.style.left="50%"),l.body.appendChild(d),d.style.marginTop=-(j.getHeight(d)/2)+"px",d.style.marginLeft=-(j.getWidth(d)/2)+"px"};setTimeout(function(){h();var a=b.length;if(void 0!==e.selectionStart)e.selectionStart=0,e.selectionEnd=a;else if(e.createTextRange){var c=e.createTextRange();c.collapse(!1),c.moveStart("character",-a),c.moveEnd("character",a),c.select()}e.focus()},0)};var r=g.prototype;r.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",r.unwrap=function(a){var b=new m("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");a.selection=a.selection.replace(b,"$1 $2")},r.wrap=function(a,b){this.unwrap(a);var c=new m("(.{1,"+b+"})( +|$\\n?)","gm"),d=this
;a.selection=a.selection.replace(c,function(a,b){return new m("^"+d.prefixes,"").test(a)?a:b+"\n"}),a.selection=a.selection.replace(/\s+$/,"")},r.doBold=function(a,b){return this.doBorI(a,b,2,this.getString("boldexample"))},r.doItalic=function(a,b){return this.doBorI(a,b,1,this.getString("italicexample"))},r.doBorI=function(a,b,c,d){a.trimWhitespace(),a.selection=a.selection.replace(/\n{2,}/g,"\n");var e=/(\**$)/.exec(a.before)[0],f=/(^\**)/.exec(a.after)[0],g=Math.min(e.length,f.length);if(g>=c&&(2!=g||1!=c))a.before=a.before.replace(m("[*]{"+c+"}$",""),""),a.after=a.after.replace(m("^[*]{"+c+"}",""),"");else if(!a.selection&&f){a.after=a.after.replace(/^([*_]*)/,""),a.before=a.before.replace(/(\s?)$/,"");var h=m.$1;a.before=a.before+f+h}else{a.selection||f||(a.selection=d);var i=c<=1?"*":"**";a.before=a.before+i,a.after=i+a.after}},r.stripLinkDefs=function(a,b){return a=a.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(a,c,d,e,f){return b[c]=a.replace(/\s*$/,""),e?(b[c]=a.replace(/["(](.+?)[")]$/,""),e+f):""})},r.addLinkDef=function(a,b){var c=0,d={};a.before=this.stripLinkDefs(a.before,d),a.selection=this.stripLinkDefs(a.selection,d),a.after=this.stripLinkDefs(a.after,d);for(var e="",f=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,g=a.before+a.selection+a.after,h=this.converter.makeHtml(g),i="http://this-is-a-real-link.biz/";h.indexOf(i)!=-1;)i+="nicetry/";var j="\n\n",k=0,l=g.replace(f,function a(b,c,d,e,g,h,l){k+=l,j+=" ["+k+"]: "+i+k+"/unicorn\n",k+=c.length,d=d.replace(f,a),k-=c.length;var m=c+d+e+k+h;return k-=l,m});h=this.converter.makeHtml(l+j);var m=function(a){return h.indexOf(i+a+"/unicorn")!==-1},n=function(a){c++,a=a.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+c+"]:"),e+="\n"+a},o=function(a,b,e,g,h,i,j){return m(k+j)?(k+=j+b.length,e=e.replace(f,o),k-=j+b.length,d[h]?(n(d[h]),b+e+g+c+i):a):a},p=a.before.length;a.before=a.before.replace(f,o),k+=p,p=a.selection.length,b?n(b):a.selection=a.selection.replace(f,o),k+=p;var q=c;return a.after=a.after.replace(f,o),a.after&&(a.after=a.after.replace(/\n*$/,"")),a.after||(a.selection=a.selection.replace(/\n*$/,"")),a.after+="\n\n"+e,q},r.doLinkOrImage=function(a,b,c){a.trimWhitespace(),a.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var d;if(!(a.endTag.length>1&&a.startTag.length>0)){if(a.selection=a.startTag+a.selection+a.endTag,a.startTag=a.endTag="",/\n\n/.test(a.selection))return void this.addLinkDef(a,null);var e=this,f=function(f){if(d.parentNode.removeChild(d),null!==f){a.selection=(" "+a.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var g=" [999]: "+h(f),i=e.addLinkDef(a,g);a.startTag=c?"![":"[",a.endTag="]["+i+"]",a.selection||(a.selection=c?e.getString("imagedescription"):e.getString("linkdescription"))}b()};return d=k.createBackground(),c?this.hooks.insertImageDialog(f)||k.prompt(this.getString("imagedialog"),"http://",f):k.prompt(this.getString("linkdialog"),"http://",f),!0}a.startTag=a.startTag.replace(/!?\[/,""),a.endTag="",this.addLinkDef(a,null)},r.doAutoindent=function(a,b){var c=this,d=!1;a.before=a.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),a.before=a.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),a.before=a.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),a.selection||/^[ \t]*(?:\n|$)/.test(a.after)||(a.after=a.after.replace(/^[^\n]*/,function(b){return a.selection=b,""}),d=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(a.before)&&c.doList&&c.doList(a),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(a.before)&&c.doBlockquote&&c.doBlockquote(a),/(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before)&&c.doCode&&c.doCode(a),d&&(a.after=a.selection+a.after,a.selection="")},r.doBlockquote=function(a,b){a.selection=a.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(b,c,d,e){return a.before+=c,a.after=e+a.after,d}),a.before=a.before.replace(/(>[ \t]*)$/,function(b,c){return a.selection=c+a.selection,""}),a.selection=a.selection.replace(/^(\s|>)+$/,""),a.selection=a.selection||this.getString("quoteexample");var c,d="",e="";if(a.before){for(var f=a.before.replace(/\n$/,"").split("\n"),g=!1,h=0;h<f.length;h++){var i=!1;c=f[h],g=g&&c.length>0,/^>/.test(c)?(i=!0,!g&&c.length>1&&(g=!0)):i=!!/^[ \t]*$/.test(c)||g,i?d+=c+"\n":(e+=d+c,d="\n")}/(^|\n)>/.test(d)||(e+=d,d="")}a.startTag=d,a.before=e,a.after&&(a.after=a.after.replace(/^\n?/,"\n")),a.after=a.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(b){return a.endTag=b,""});var j=function(b){var c=b?"> ":"";a.startTag&&(a.startTag=a.startTag.replace(/\n((>|\s)*)\n$/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"})),a.endTag&&(a.endTag=a.endTag.replace(/^\n((>|\s)*)\n/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"}))};/^(?![ ]{0,3}>)/m.test(a.selection)?(this.wrap(a,o.lineLength-2),a.selection=a.selection.replace(/^/gm,"> "),j(!0),a.skipLines()):(a.selection=a.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(a),j(!1),!/^(\n|^)[ ]{0,3}>/.test(a.selection)&&a.startTag&&(a.startTag=a.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(a.selection)&&a.endTag&&(a.endTag=a.endTag.replace(/^\n{0,2}/,"\n\n"))),a.selection=this.hooks.postBlockquoteCreation(a.selection),/\n/.test(a.selection)||(a.selection=a.selection.replace(/^(> *)/,function(b,c){return a.startTag+=c,""}))},r.doCode=function(a,b){var c=/\S[ ]*$/.test(a.before);if(!/^[ ]*\S/.test(a.after)&&!c||/\n/.test(a.selection)){a.before=a.before.replace(/[ ]{4}$/,function(b){return a.selection=b+a.selection,""});var d=1,e=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before)&&(d=0),/^\n(\t|[ ]{4,})/.test(a.after)&&(e=0),a.skipLines(d,e),a.selection?/^[ ]{0,3}\S/m.test(a.selection)?/\n/.test(a.selection)?a.selection=a.selection.replace(/^/gm,"    "):a.before+="    ":a.selection=a.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm,""):(a.startTag="    ",a.selection=this.getString("codeexample"))}else a.trimWhitespace(),a.findTags(/`/,/`/),a.startTag||a.endTag?a.endTag&&!a.startTag?(a.before+=a.endTag,a.endTag=""):a.startTag=a.endTag="":(a.startTag=a.endTag="`",a.selection||(a.selection=this.getString("codeexample")))},r.doList=function(a,b,c){var d=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,e="-",f=1,g=function(){var a;return c?(a=" "+f+". ",f++):a=" "+e+" ",a},h=function(a){return void 0===c&&(c=/^\s*\d/.test(a)),a=a.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(a){return g()})};if(a.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!a.before||/\n$/.test(a.before)||/^\n/.test(a.startTag)||(a.before+=a.startTag,a.startTag=""),a.startTag){var i=/\d+[.]/.test(a.startTag);if(a.startTag="",a.selection=a.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(a),a.skipLines(),i&&(a.after=a.after.replace(d,h)),c==i)return}var j=1;a.before=a.before.replace(/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,function(a){return/^\s*([*+-])/.test(a)&&(e=m.$1),j=/[^\n]\n\n[^\n]/.test(a)?1:0,h(a)}),a.selection||(a.selection=this.getString("litem"));var k=g(),l=1;a.after=a.after.replace(d,function(a){return l=/[^\n]\n\n[^\n]/.test(a)?1:0,h(a)}),a.trimWhitespace(!0),a.skipLines(j,l,!0),a.startTag=k;var n=k.replace(/./g," ");this.wrap(a,o.lineLength-n.length),a.selection=a.selection.replace(/\n/g,"\n"+n)},r.doHeading=function(a,b){if(a.selection=a.selection.replace(/\s+/g," "),a.selection=a.selection.replace(/(^\s+|\s+$)/g,""),!a.selection)return a.startTag="## ",a.selection=this.getString("headingexample"),void(a.endTag=" ##");var c=0;a.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(a.startTag)&&(c=m.lastMatch.length),a.startTag=a.endTag="",a.findTags(null,/\s?(-+|=+)/),/=+/.test(a.endTag)&&(c=1),/-+/.test(a.endTag)&&(c=2),a.startTag=a.endTag="",a.skipLines(1,1);var d=0===c?2:c-1;if(d>0){var e=d>=2?"-":"=",f=a.selection.length;for(f>o.lineLength&&(f=o.lineLength),a.endTag="\n";f--;)a.endTag+=e}},r.doHorizontalRule=function(a,b){a.startTag="----------\n",a.selection="",a.skipLines(2,1,!0)}}(),function(){function a(a){return a.replace(/^\s+|\s+$/g,"")}function b(a){return a.replace(/\s+$/g,"")}function c(a){return a.replace(new RegExp("^(\\t|[ ]{1,4})","gm"),"")}function d(a,b){return a.indexOf(b)!=-1}function e(a,b){return a.replace(/<[^>]*>?/gi,function(a){return a.match(b)?a:""})}function f(a,b){for(var c={},d=0;d<a.length;d++)c[a[d]]=a[d];for(d=0;d<b.length;d++)c[b[d]]=b[d];var e=[];for(var f in c)c.hasOwnProperty(f)&&e.push(c[f]);return e}function g(a){return""!=a.charAt(0)&&(a=""+a),""!=a.charAt(a.length-1)&&(a+=""),a}function h(a){return""==a.charAt(0)&&(a=a.substr(1)),""==a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),a}function i(a,b){return e(j(a,b),p)}function j(a,b){var c=b.blockGamutHookCallback(a);return c=m(c),c=c.replace(/~D/g,"$$").replace(/~T/g,"~"),c=b.previousPostConversion(c)}function k(a){return a.replace(/\\\|/g,"~I").replace(/\\:/g,"~i")}function l(a){return a.replace(/~I/g,"|").replace(/~i/g,":")}function m(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})}function n(a){return a.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function o(a,b){var c=b;return c=c.replace(/&\#8220;/g,'"'),c=c.replace(/&\#8221;/g,'"'),c=c.replace(/&\#8216;/g,"'"),c=c.replace(/&\#8217;/g,"'"),c=c.replace(/&\#8212;/g,"---"),c=c.replace(/&\#8211;/g,"--"),c=c.replace(/&\#8230;/g,"...")}var p=new RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|","bdo|big|button|cite|code|del|dfn|em|figcaption|","font|i|iframe|img|input|ins|kbd|label|map|","mark|meter|object|param|progress|q|ruby|rp|rt|s|","samp|script|select|small|span|strike|strong|","sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|","<(br)\\s?\\/?>)$"].join(""),"i");Array.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1}),Markdown.Extra=function(){this.converter=null,this.hashBlocks=[],this.footnotes={},this.usedFootnotes=[],this.attributeBlocks=!1,this.googleCodePrettify=!1,this.highlightJs=!1,this.tableClass="",this.tabWidth=4},Markdown.Extra.init=function(a,b){var c=new Markdown.Extra,e=[],f=[],g=[],h=["unHashExtraBlocks"];return b=b||{},b.extensions=b.extensions||["all"],d(b.extensions,"all")&&(b.extensions=["tables","fenced_code_gfm","def_list","attr_list","footnotes","smartypants","strikethrough","newlines"]),f.push("wrapHeaders"),d(b.extensions,"attr_list")&&(e.push("hashFcbAttributeBlocks"),f.push("hashHeaderAttributeBlocks"),h.push("applyAttributeBlocks"),c.attributeBlocks=!0),d(b.extensions,"fenced_code_gfm")&&(f.push("fencedCodeBlocks"),e.push("fencedCodeBlocks")),d(b.extensions,"tables")&&f.push("tables"),d(b.extensions,"def_list")&&f.push("definitionLists"),d(b.extensions,"footnotes")&&(e.push("stripFootnoteDefinitions"),f.push("doFootnotes"),h.push("printFootnotes")),d(b.extensions,"smartypants")&&h.push("runSmartyPants"),d(b.extensions,"strikethrough")&&g.push("strikethrough"),d(b.extensions,"newlines")&&g.push("newlines"),a.hooks.chain("postNormalization",function(a){return c.doTransform(e,a)+"\n"}),a.hooks.chain("preBlockGamut",function(a,b){return c.blockGamutHookCallback=b,a=k(a),a=c.doTransform(f,a)+"\n",a=l(a)}),a.hooks.chain("postSpanGamut",function(a){return c.doTransform(g,a)}),c.previousPostConversion=a.hooks.postConversion,a.hooks.chain("postConversion",function(a){return a=c.doTransform(h,a),c.hashBlocks=[],c.footnotes={},c.usedFootnotes=[],a}),"highlighter"in b&&(c.googleCodePrettify="prettify"===b.highlighter,c.highlightJs="highlight"===b.highlighter),"table_class"in b&&(c.tableClass=b.table_class),c.converter=a,c},Markdown.Extra.prototype.doTransform=function(a,b){for(var c=0;c<a.length;c++)b=this[a[c]](b);return b},Markdown.Extra.prototype.hashExtraBlock=function(a){return"\n<p>~X"+(this.hashBlocks.push(a)-1)+"X</p>\n"},Markdown.Extra.prototype.hashExtraInline=function(a){return"~X"+(this.hashBlocks.push(a)-1)+"X"},Markdown.Extra.prototype.unHashExtraBlocks=function(a){function b(){var d=!1;a=a.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g,function(a,b){d=!0;var e=parseInt(b,10);return c.hashBlocks[e]}),d===!0&&b()}var c=this;return b(),a},Markdown.Extra.prototype.wrapHeaders=function(a){function b(a){return"\n"+a+"\n"}return a=a.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm,b),a=a.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm,b),a=a.replace(/^\#{1,6}[ \t]*.+?[ \t]*\#*\n+/gm,b)};var q="\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}",r=new RegExp("^(#{1,6}.*#{0,6})[ \\t]+"+q+"[ \\t]*(?:\\n|0x03)","gm"),s=new RegExp("^(.*)[ \\t]+"+q+"[ \\t]*\\n(?=[\\-|=]+\\s*(?:\\n|0x03))","gm"),t=new RegExp("^(```[^`\\n]*)[ \\t]+"+q+"[ \\t]*\\n(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))","gm");Markdown.Extra.prototype.hashHeaderAttributeBlocks=function(a){function b(a,b,d){return"<p>~XX"+(c.hashBlocks.push(d)-1)+"XX</p>\n"+b+"\n"}var c=this;return a=a.replace(r,b),a=a.replace(s,b)},Markdown.Extra.prototype.hashFcbAttributeBlocks=function(a){function b(a,b,d){return"<p>~XX"+(c.hashBlocks.push(d)-1)+"XX</p>\n"+b+"\n"}var c=this;return a.replace(t,b)},Markdown.Extra.prototype.applyAttributeBlocks=function(a){var b=this,c=new RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))',"gm");return a=a.replace(c,function(a,c,d,e,g){if(!d)return"";for(var h=parseInt(c,10),i=b.hashBlocks[h],j=i.match(/#[^\s#.]+/g)||[],k=j[0]?' id="'+j[0].substr(1,j[0].length-1)+'"':"",l=i.match(/\.[^\s#.]+/g)||[],m=0;m<l.length;m++)l[m]=l[m].substr(1,l[m].length-1);var n="";return e&&(l=f(l,[e])),l.length>0&&(n=' class="'+l.join(" ")+'"'),"<"+d+k+n+g})},Markdown.Extra.prototype.tables=function(b){function c(b,c,e,f,g,h){c=c.replace(/^ *[|]/m,""),e=e.replace(/^ *[|]/m,""),f=f.replace(/^ *[|]/gm,""),c=c.replace(/[|] *$/m,""),e=e.replace(/[|] *$/m,""),f=f.replace(/[|] *$/gm,"");for(var j=e.split(/ *[|] */),k=[],l=0;l<j.length;l++){var m=j[l];m.match(/^ *-+: *$/m)?k[l]=' align="right"':m.match(/^ *:-+: *$/m)?k[l]=' align="center"':m.match(/^ *:-+ *$/m)?k[l]=' align="left"':k[l]=""}var n=c.split(/ *[|] */),o=n.length,p=d.tableClass?' class="'+d.tableClass+'"':"",q=["<table",p,">\n","<thead>\n","<tr>\n"].join("");for(l=0;l<o;l++){var r=i(a(n[l]),d);q+=["  <th",k[l],">",r,"</th>\n"].join("")}q+="</tr>\n</thead>\n";var s=f.split("\n");for(l=0;l<s.length;l++)if(!s[l].match(/^\s*$/)){for(var t=s[l].split(/ *[|] */),u=o-t.length,v=0;v<u;v++)t.push("");for(q+="<tr>\n",v=0;v<o;v++){var w=i(a(t[v]),d);q+=["  <td",k[v],">",w,"</td>\n"].join("")}q+="</tr>\n"}return q+="</table>\n",d.hashExtraBlock(q)}var d=this,e=new RegExp(["^","[ ]{0,3}","[|]","(.+)\\n","[ ]{0,3}","[|]([ ]*[-:]+[-| :]*)\\n","(","(?:[ ]*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm"),f=new RegExp(["^","[ ]{0,3}","(\\S.*[|].*)\\n","[ ]{0,3}","([-:]+[ ]*[|][-| :]*)\\n","(","(?:.*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm");return b=b.replace(e,c),b=b.replace(f,c)},Markdown.Extra.prototype.stripFootnoteDefinitions=function(a){var b=this;return a=a.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g,function(a,c,d){return c=n(c),d+="\n",d=d.replace(/^[ ]{0,3}/g,""),b.footnotes[c]=d,"\n"})},Markdown.Extra.prototype.doFootnotes=function(a){var b=this;if(b.isConvertingFootnote===!0)return a;var c=0;return a=a.replace(/\[\^(.+?)\]/g,function(a,d){var e=n(d);if(void 0===b.footnotes[e])return a;c++,b.usedFootnotes.push(e);var f='<a href="#fn:'+e+'" id="fnref:'+e+'" title="See footnote" class="footnote">'+c+"</a>";return b.hashExtraInline(f)})},Markdown.Extra.prototype.printFootnotes=function(a){var b=this;if(0===b.usedFootnotes.length)return a;a+='\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';for(var c=0;c<b.usedFootnotes.length;c++){var d=b.usedFootnotes[c],e=b.footnotes[d];b.isConvertingFootnote=!0;var f=i(e,b);delete b.isConvertingFootnote,a+='<li id="fn:'+d+'">'+f+' <a href="#fnref:'+d+'" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'}return a+="</ol>\n</div>"},Markdown.Extra.prototype.fencedCodeBlocks=function(b){function c(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~")}var d=this;return b=b.replace(/(?:^|\n)```([^`\n]*)\n([\s\S]*?)\n```[ \t]*(?=\n)/g,function(b,e,f){var g=a(e),h=f,i=d.googleCodePrettify?' class="prettyprint"':"",j="";g&&(j=d.googleCodePrettify||d.highlightJs?' class="language-'+g+'"':' class="'+g+'"');var k=["<pre",i,"><code",j,">",c(h),"</code></pre>"].join("");return d.hashExtraBlock(k)})},Markdown.Extra.prototype.educatePants=function(a){var b=this,c="",d=0;a.replace(/(?:<!--[\s\S]*?-->)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g,function(e,f,g,h,i,j,k){var l=a.substring(d,k);if(c+=b.applyPants(l),b.smartyPantsLastChar=c.substring(c.length-1),d=k+e.length,!f)return void(c+=e);/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(g)?b.smartyPantsLastChar=i.substring(i.length-1):i=b.educatePants(i),c+=f+g+h+i+j});var e=a.substring(d);return c+=b.applyPants(e),b.smartyPantsLastChar=c.substring(c.length-1),c},Markdown.Extra.prototype.applyPants=function(a){return a=a.replace(/---/g,"&#8212;").replace(/--/g,"&#8211;"),a=a.replace(/\.\.\./g,"&#8230;").replace(/\.\s\.\s\./g,"&#8230;"),a=a.replace(/``/g,"&#8220;").replace(/''/g,"&#8221;"),/^'$/.test(a)?/\S/.test(this.smartyPantsLastChar)?"&#8217;":"&#8216;":/^"$/.test(a)?/\S/.test(this.smartyPantsLastChar)?"&#8221;":"&#8220;":(a=a.replace(/^'(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8217;"),a=a.replace(/^"(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8221;"),a=a.replace(/"'(?=\w)/g,"&#8220;&#8216;"),a=a.replace(/'"(?=\w)/g,"&#8216;&#8220;"),a=a.replace(/'(?=\d{2}s)/g,"&#8217;"),a=a.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)'(?=\w)/g,"$1&#8216;"),a=a.replace(/([^\s\[\{\(\-])'/g,"$1&#8217;"),a=a.replace(/'(?=\s|s\b)/g,"&#8217;"),a=a.replace(/'/g,"&#8216;"),a=a.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)"(?=\w)/g,"$1&#8220;"),a=a.replace(/([^\s\[\{\(\-])"/g,"$1&#8221;"),a=a.replace(/"(?=\s)/g,"&#8221;"),a=a.replace(/"/gi,"&#8220;"))},Markdown.Extra.prototype.runSmartyPants=function(a){return this.smartyPantsLastChar="",a=this.educatePants(a),a=a.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g,o)},Markdown.Extra.prototype.definitionLists=function(b){var c=new RegExp(["(\\x02\\n?|\\n\\n)","(?:","(","(","[ ]{0,3}","((?:[ \\t]*\\S.*\\n)+)","\\n?","[ ]{0,3}:[ ]+",")","([\\s\\S]+?)","(","(?=\\0x03)","|","(?=","\\n{2,}","(?=\\S)","(?!","[ ]{0,3}","(?:\\S.*\\n)+?","\\n?","[ ]{0,3}:[ ]+",")","(?!","[ ]{0,3}:[ ]+",")",")",")",")",")"].join(""),"gm"),d=this;return b=g(b),b=b.replace(c,function(b,c,e){var f=a(d.processDefListItems(e));return f="<dl>\n"+f+"\n</dl>",c+d.hashExtraBlock(f)+"\n\n"}),h(b)},Markdown.Extra.prototype.processDefListItems=function(d){var e=this,f=new RegExp(["(\\x02\\n?|\\n\\n+)","(","[ ]{0,3}","(?![:][ ]|[ ])","(?:\\S.*\\n)+?",")","(?=\\n?[ ]{0,3}:[ ])"].join(""),"gm"),k=new RegExp(["\\n(\\n+)?","(","[ ]{0,3}","[:][ ]+",")","([\\s\\S]+?)","(?=\\n*","(?:","\\n[ ]{0,3}[:][ ]|","<dt>|\\x03",")",")"].join(""),"gm");return d=g(d),d=d.replace(/\n{2,}(?=\\x03)/,"\n"),d=d.replace(f,function(b,c,d){for(var f=a(d).split("\n"),g="",h=0;h<f.length;h++){var j=f[h];j=i(a(j),e),g+="\n<dt>"+j+"</dt>"}return g+"\n"}),d=d.replace(k,function(a,d,f,g){return d||g.match(/\n{2,}/)?(g=Array(f.length+1).join(" ")+g,g=c(g)+"\n\n",g="\n"+j(g,e)+"\n"):(g=b(g),g=i(c(g),e)),"\n<dd>"+g+"</dd>\n"}),h(d)},Markdown.Extra.prototype.strikethrough=function(a){return a.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g,"$1<del>$2</del>$3")},Markdown.Extra.prototype.newlines=function(a){return a.replace(/(<(?:br|\/li)>)?\n/g,function(a,b){return b?a:" <br>\n"})}}();var markdown={};markdown.pluginVersion="1.3.0",markdown.options={},markdown.substitutions={},markdown.statistics={},markdown.tools={},markdown.editors={},markdown.options.debug=!1,markdown.options.sanitizingConverter=!0,markdown.options.tryToUseOriginalValueFromDisplayOnlyItems=!1,markdown.options.syntaxHighlighting=!1,markdown.options.markdownExtra=!1,markdown.options.markdownExtraExtensions=[],markdown.options.preConversionFunction="",markdown.options.postConversionFunction="",markdown.substitutions.image_prefix=null,markdown.substitutions.image_prefix_regexp=new RegExp("#image_prefix#","gi"),markdown.substitutions.app_images=null,markdown.substitutions.app_images_regexp=new RegExp("#app_images#","gi"),markdown.substitutions.workspace_images=null,markdown.substitutions.workspace_images_regexp=new RegExp("#workspace_images#","gi"),markdown.substitutions.images=null,markdown.substitutions.images_regexp=new RegExp("#images#","gi"),markdown.statistics.renderedHtmlFragments=0,markdown.statistics.sumRenderingTimeHtmlFragments=0,markdown.statistics.averageRenderingTimeHtmlFragment=0,markdown.statistics.createdEditors=0,markdown.statistics.sumCreationTimeEditors=0,markdown.statistics.averageCreationTimeEditor=0,markdown.statistics.overallRunTimeWithoutPreviewRendering=0,Date.now||(Date.now=function(){return(new Date).getTime()}),markdown.tools.triggerApexEvent=function(a,b,c){markdown.apexPluginId&&apex.event.trigger(a,b,c)},markdown.tools.normalizeIdentifier=function(a){return a.replace(/([^a-zA-Z0-9_])/g,"_")},$.fn.hasAttr=function(a){return void 0!==this.attr(a)&&this.attr(a)!==!1},markdown.init=function(){markdown.options.sanitizingConverter?markdown.converter=Markdown.getSanitizingConverter():markdown.converter=new Markdown.Converter,markdown.options.markdownExtra&&Markdown.Extra.init(markdown.converter,{highlighter:"highlight",extensions:markdown.options.markdownExtraExtensions}),markdown.converter.hooks.chain("preConversion",function(a){var b,c,d,e;return a=a.replace(/<br>/gi,"\n").replace(markdown.substitutions.image_prefix_regexp,markdown.substitutions.image_prefix).replace(markdown.substitutions.app_images_regexp,markdown.substitutions.app_images).replace(markdown.substitutions.workspace_images_regexp,markdown.substitutions.workspace_images).replace(markdown.substitutions.images_regexp,markdown.substitutions.images),"function"==typeof markdown.options.preConversionFunction&&(a=markdown.options.preConversionFunction(a)),b=a.match(/^\s*-{3}\s+([\s\S]+?)(?:-|\.){3}/),b&&(b.length>=1&&(b=b[1],c=b.match(/^title: *(.*)$/im),c&&c.length>=1&&(c=c[1]),d=b.match(/^author: *(.*)$/im),d&&d.length>=1&&(d=d[1]),(e=b.match(/^date: *(.*)$/im))&&e.length>=1&&(e=e[1])),a=a.replace(/^\s*-{3}\s+[\s\S]+?(?:-|\.){3}/,(c?"# "+c+"\n":"")+(d?"## "+d+"\n":"")+(e?"### "+e+"\n":""))),a}),markdown.converter.hooks.chain("postConversion",function(a){return"function"==typeof markdown.options.postConversionFunction&&(a=markdown.options.postConversionFunction(a)),a})},markdown.printStatistics=function(){console.log("Markdown plugin - runtime statistics\n========================================\n                   Plugin version: "+markdown.pluginVersion+"\n        Number of created editors: "+markdown.statistics.createdEditors+"\n"+(markdown.statistics.createdEditors>0?"            Average creation time: "+markdown.statistics.averageCreationTimeEditor+"ms\n":"")+"Number of rendered HTML fragments: "+markdown.statistics.renderedHtmlFragments+"\n"+(markdown.statistics.renderedHtmlFragments>0?"           Average rendering time: "+markdown.statistics.averageRenderingTimeHtmlFragment+"ms\n":"")+" Overall runtime without previews: "+markdown.statistics.overallRunTimeWithoutPreviewRendering+"ms")},markdown.maximizeItem=function(a,b,c,d,e){$(b).each(function(){var b=$(this),f=b.parents().eq(c-1),g=function(){b.width(f.width()-parseInt(f.css("padding-left"))-parseInt(f.css("padding-right"))).height($(window).height()-b.offset().top-d)},h=function(){f.css("overflow","auto").height($(window).height()-f.offset().top-d)};"editor"===a?g():"preview"===a&&h(),e?f.css("border","1px solid red"):$(window).resize(function(){"editor"===a?g():"preview"===a&&h()})})},markdown.makeHtmlOrCreateEditors=function(a){var b,c,d;b=Date.now(),$(a).find(".markdown").not("textarea,input,.wmd-preview,.rendered").each(function(){d=$(this).addClass("rendered"),markdown.statistics.renderedHtmlFragments+=1,d.html(markdown.converter.makeHtml(markdown.options.sanitizingConverter&&markdown.options.tryToUseOriginalValueFromDisplayOnlyItems&&d.hasAttr("id")?$("input#"+d.attr("id").replace("_DISPLAY","")).val()||d.html():d.html())),markdown.options.syntaxHighlighting&&d.find("pre code").each(function(a,b){hljs.highlightBlock(b)})}),c=Date.now()-b,markdown.statistics.sumRenderingTimeHtmlFragments+=c,markdown.statistics.renderedHtmlFragments>0&&(markdown.statistics.averageRenderingTimeHtmlFragment=Math.round(markdown.statistics.sumRenderingTimeHtmlFragments/markdown.statistics.renderedHtmlFragments)),markdown.statistics.overallRunTimeWithoutPreviewRendering+=c,b=Date.now(),$(a).find("textarea.markdown").not(".rendered").each(function(){var a=$(this).addClass("rendered"),b=markdown.tools.normalizeIdentifier(a.attr("id"));if(b){markdown.statistics.createdEditors+=1;var c=a.attr("id")+"_PREVIEW",d='<div id="wmd-preview-'+markdown.statistics.createdEditors+'" class="wmd-panel wmd-preview markdown"></div>';if(a.addClass("wmd-input").parent().wrap('<div class="wmd-panel-'+markdown.statistics.createdEditors+'"'+(1==$("#"+c).length?"":' id="'+c+'"')+"></div>").before('<div id="wmd-button-bar-'+markdown.statistics.createdEditors+'"></div>'),$("#"+c).append(d),markdown.editors[b]=new Markdown.Editor(markdown.converter,"-"+markdown.statistics.createdEditors,a.attr("id")),markdown.editors[b].run(),markdown.editors[b].hooks.chain("onPreviewRefresh",function(){markdown.tools.triggerApexEvent($("#"+c),"net_gobrechts_markdown_preview_refreshed")}),markdown.options.syntaxHighlighting){var e="#wmd-preview-"+markdown.statistics.createdEditors+" pre code";$(e).each(function(a,b){hljs.highlightBlock(b)}),markdown.editors[b].hooks.chain("onPreviewRefresh",function(){$(e).each(function(a,b){hljs.highlightBlock(b)})})}}else error.error("Your text area needs to have an id attribute before we can use it as a Markdown editor!",a)}),c=Date.now()-b,markdown.statistics.sumCreationTimeEditors+=c,markdown.statistics.createdEditors>0&&(markdown.statistics.averageCreationTimeEditor=Math.round(markdown.statistics.sumCreationTimeEditors/markdown.statistics.createdEditors)),markdown.statistics.overallRunTimeWithoutPreviewRendering+=c,markdown.options.debug&&markdown.printStatistics()};